# Опыт работы с LangChain: создание агента и возникшие сложности

## Проблемы при разработке

В процессе работы над агентом с использованием LangChain столкнулся с рядом недостатков:

### Постоянные обновления
- Частые изменения в либе
- Методы постоянно улетают в деприкейтед
- Но это контрится фризом, но всё равно неприятно

### Ключевая проблема: декоратор `@tool`
Основная сложность возникла при использовании декоратора `@tool`:

**Ограничение:**
- Невозможность передать `self` класса в декорируемую функцию
- Отсутствие механизма для выстраивания взаимодействия "класс-инструмент"

**Последствия:**
- Нарушена архитектура агента
- Вместо красивого взаимодействия между инструментами - вынужденная компромиссная реализация

### Текущее решение
- Только 2 функции реализованы как полноценные инструменты
- Остальные функции запускаются на каждой итерации как обязательные
- Архитектура далека от изначально задуманной из-за как раз таки декоратора `@tool`

## Вывод
Текущая реализация не позволяет создать элегантную систему, где агент самостоятельно решает, когда и какие функции вызывать, что существенно ограничивает гибкость и расширяемость решения. С другой стороны, выстроить агентов довольно легко, не нужно прописывать json схемы для тулзов. Но я лучше пропишу их, чем буду думать как решить проблему отсутсвия интеграции класс-инструмент.